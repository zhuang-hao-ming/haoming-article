---
title: 理解IEEE754标准
date: 2017-09-15 22:54:44
tags:
---


```
单精度

|-|--------|-----------------------|
|sign|exponent|significant|
|1|8|23|


双精度
|-|--------|-----------------------|
|sign|exponent|significant|
|1|11|52|
```

IEEE 754的单精度浮点数标准规定，一个float由32bits构成，分成3部分，分别是符号部分，指数部分，尾数部分

1. 符号部分，大小为1bit  符号部分使用1代表负数，0代表正数，是一个原码编码。
2. 指数部分， 大小为8bit指数部分是一个移码编码， `$bias = 2^7-1 = 127$`。范围从`00000001 -> 11111110`即`[-126 ,127]`。
`00000000`和`11111111`被保留用来表示特殊数。`bias`设计为`$2^{n-1} - 1$`而不是`$2^{n-1}$`是为了使浮点数表示的范围更大(`bias = 128`的范围为`[-127,126]`)。
3. 尾数部分， 大小为23bit， 标准规定尾数是一个小数点前为1的定点数（normalized）,这个规定是约定的，不消耗bit。

综上，标准的浮点数值计算公式为：
```math
single point = (-1)^{sign} * 2^{exponent-127} * (1+significand)

double point = (-1)^{sign} * 2^{exponent-1023} * (1+significand)
```


## 特殊数


exponent | significand | usage
---|---|---
all zero | all zero | 表示0，有正0和负0，意义相同
all zero | non-zero | `$0.000...1 * 10 ^{-126} - 0.1111 * 10^{-126}$` | 表示一个更接近0的范围
all one | all zero | infinity 无穷大，用于比较
all one | non-zero | nan 避免程序奔溃



## 注意

1. 浮点数编码比整数编码表示的数范围更大，但是数的个数更少，所以浮点数更加的稀疏
2. 观察浮点数的编码 `$1.0000...000 * 10^n - 1.11111...111 * 10^n$`随着n的增大， 范围增大，但是浮点个数不变，所以数越来越稀疏。
3. 尾数部分使用原码保证了正负区间的对称，阶数部分使用移码，数的大小和二进制表达（无符号）的大小一致。



